[gd_scene load_steps=7 format=3 uid="uid://b6ux8rabmdtp2"]

[ext_resource type="Script" uid="uid://dsa81cbogdct5" path="res://Scenes/player.gd" id="1_4flbx"]
[ext_resource type="Script" uid="uid://gmd63iao7pnx" path="res://Scenes/state_machine.gd" id="2_cvnsp"]
[ext_resource type="Script" uid="uid://cvwhob15d74c7" path="res://Scripts/States/forward_state.gd" id="3_6t5aa"]
[ext_resource type="Script" uid="uid://gnavd0s8r7ig" path="res://Scripts/States/table_state.gd" id="4_x3wgy"]
[ext_resource type="Script" uid="uid://wy2dq56lku0o" path="res://Scripts/States/under_bed_state.gd" id="5_3smsa"]
[ext_resource type="Script" uid="uid://d0sw60mlvaain" path="res://Scripts/States/window_state.gd" id="6_8erm5"]

[node name="Player" type="Node3D"]
script = ExtResource("1_4flbx")

[node name="Camera3D" type="Camera3D" parent="."]

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("2_cvnsp")
initial_state = NodePath("Forward")

[node name="Forward" type="Node" parent="StateMachine" node_paths=PackedStringArray("camera", "camera_pos")]
script = ExtResource("3_6t5aa")
camera = NodePath("../../Camera3D")
camera_pos = NodePath("../../Markers/Forward")
metadata/_custom_type_script = "uid://cvwhob15d74c7"

[node name="Table" type="Node" parent="StateMachine" node_paths=PackedStringArray("camera", "camera_pos")]
script = ExtResource("4_x3wgy")
camera = NodePath("../../Camera3D")
camera_pos = NodePath("../../Markers/Table")
metadata/_custom_type_script = "uid://gnavd0s8r7ig"

[node name="UnderBed" type="Node" parent="StateMachine" node_paths=PackedStringArray("camera", "camera_pos")]
script = ExtResource("5_3smsa")
camera = NodePath("../../Camera3D")
camera_pos = NodePath("../../Markers/UnderBed")
metadata/_custom_type_script = "uid://wy2dq56lku0o"

[node name="Window" type="Node" parent="StateMachine" node_paths=PackedStringArray("camera", "camera_pos")]
script = ExtResource("6_8erm5")
camera = NodePath("../../Camera3D")
camera_pos = NodePath("../../Markers/Window")
metadata/_custom_type_script = "uid://d0sw60mlvaain"

[node name="Markers" type="Node3D" parent="."]

[node name="Forward" type="Marker3D" parent="Markers"]

[node name="Table" type="Marker3D" parent="Markers"]
transform = Transform3D(-3.9205577e-08, -0.4421948, 0.8969191, -1.9328947e-08, 0.8969191, 0.4421948, -1, 0, -4.3711392e-08, -0.17422211, 0.09042597, 0)

[node name="UnderBed" type="Marker3D" parent="Markers"]
transform = Transform3D(4.371139e-08, -3.821371e-15, -1, -8.742278e-08, -1, 0, -1, 8.742278e-08, -4.371139e-08, -0.7680149, -0.6780522, -0.68167734)

[node name="Window" type="Marker3D" parent="Markers"]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -0.29359752, 0.4886582, -0.6745601)
